BOJ의 인기스타, 방송인 권욱제는 통신 회사에 취업했다. 현재 이 통신 회사는 너무나 큰 통신망을 한 지사에서 관리하느라 큰 비용을 지불하고 있었다. 그래서 회사는 최근 IT의 트렌드 중 하나인 '탈중앙화'에 편승하여, 통신망을 분할하도록 결정했다. 
그래서 욱제한테 통신망을 분할 할때 발생하는 비용을 분석하도록 지시했다.

현재 회사 망에는 1번부터 N번까지 총 N개의 통신 탑이 존재하며, 통신탑 간의 연결이 M개 존재한다. 이때 회사에서는 총 Q번 통신탑 간의 연결을 제거함으로써 하나의 통신망을 여러 개의 통신망으로 분리하려고 한다.
통신망이란, 통신탑의 연결을 통해 도달 가능한 통신탑들의 집합이다. 통신탑 간의 연결 관계를 제거할 때 드는 비용은 제거한 후 통신망이 두 개로 나누어진다면 나눠진 두 개의 통신망에 속한 통신탑들의 갯수의 곱이 되며, 나누어지지 않을 경우 0이다.

그림 1을 예시로 할때, 연결 (3, 4)를 제거하면 {1, 2, 3}, {4, 5, 6}으로 분할 되며, 이때 발생하는 비용은 3 × 3 = 9가 된다. 대신 연결 (2, 3)을 제거하면, 망이 나눠지지 않았기에 비용은 0이 된다.

욱제는 회사의 요청에 따라 Q번의 제거를 통해 나오는 비용의 합을 구해야 한다. 하지만 욱제는 회사의 통신망을 이용해 방송하기 바쁘기 때문에 우리가 도와주자.
--------------------------------------------------------------------------------------------------------------------------------------------
처음 문제를 보고 연결 유무에 집중하여 분리집합에 연관지어 생각해보았다.
하지만 연결을 끊고 이를 바탕으로 다시 분리집합을 구성하는 알고리즘은 시간초과가 예상되었다. O(Q * N * unionfind)이기 때문이다.

그리고 힌트를 받고 문제를 풀었다.
분리집합을 이용한 문제는 맞았다. 각 노드들의 연결 유무를 파악해 같은 집합에 속해있는지를 파악하는것이 중요한 문제이기 때문이다.
하지만, 역순으로 푸는 알고리즘을 배웠다. 연결을 끊고 분리집합을 재구성하는것이 아닌, 역순으로 연결을 끊는것이 아닌 다른 분리집합을 연결하는것이다.
끊고나서 확인하는 과정은 연결되기 전 확인하는것과 같기 때문이다. 

시간복잡도는 O(Q * unionfind)이다.
unionfind의 시간복잡도는 계산이 힘들지만 순서대로 진행한것이 100,000배 덜 수행할 수 있음을 볼 수 있다.

1. 끊을 연결을 제외한 간선들을 통해 초기 집합을 구성해준다.
2. 끊을 연결을 역순으로 저장해서 시작한다. stack을 사용하였다. 마지막 순서에는 앞의 끊을 연결들은 다 끊겨있는 상태이기 때문에 1번으로 시작하여 하나씩 연결을 추가해준다.
3. 연결된 집합의 개수도 카운트하고, 집합의 루트에 집합에 속한 노드의 개수를 저장한다.
그러면 답을 구할 수 있다.

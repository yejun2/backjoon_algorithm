상근이는 영화 DVD 수집가이다. 상근이는 그의 DVD 콜렉션을 쌓아 보관한다.

보고 싶은 영화가 있을 때는, DVD의 위치를 찾은 다음 쌓아놓은 콜렉션이 무너지지 않게 조심스럽게 DVD를 뺀다. 영화를 다 본 이후에는 가장 위에 놓는다.

상근이는 DVD가 매우 많기 때문에, 영화의 위치를 찾는데 시간이 너무 오래 걸린다. 각 DVD의 위치는, 찾으려는 DVD의 위에 있는 영화의 개수만 알면 쉽게 구할 수 있다. 각 영화는 DVD 표지에 붙어있는 숫자로 쉽게 구별할 수 있다.

각 영화의 위치를 기록하는 프로그램을 작성하시오. 상근이가 영화를 한 편 볼 때마다 그 DVD의 위에 몇 개의 DVD가 있었는지를 구해야 한다.

시간복잡도를 고려하지않고 해결하려한다면, 배열에 반복문을 돌며 찾는 DVD번호를 찾고 남은 배열의 크기로 구하면 된다. 그리고 다시 배열의 값을 맞추면 된다.

n과 m 모두 10이라고 가정해보자.

첫번째로 찾는 dvd를 맨위로 올리면 11번 위치에 있다고도 볼 수 있다. 그리고 원래 이 dvd위치의 자리에 dvd는 존재하지 않는다고 생각할수 있다.
이 과정을 m번 반복하여야하므로 n+m칸이 있는 서랍이라고 볼 수 있고 찾는 dvd의 위치 한칸 위로부터 젤 위의 칸까지의 칸들 중 비어있지 않는 칸의 개수라고 볼 수 있다.
그래서 n+m의 배열을 만들고, 각 구간의 합을 구하는 방법인 세그먼트 트리를 이용하여 시간복잡도 문제를 해결한다.
각 dvd별로 위치를 기억하는 배열을 만들어놓는다.
이 위치 +1 부터 n+i까지의 구간의 합을 구한다.
배열에서 dvd번호의 위치를 바꾼다. 그리고 그 위치에 tree에 +1을 한다. 원래 위치에 -1도 해준다.

가장 중요한 문제 포인트는 뺸 dvd를 위에 올려두고 원래자리에 없는 것으로 보는것이다.
배열의 크기를 더 늘리는것이 중요하다.
